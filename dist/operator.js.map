{"version":3,"file":"operator.js","names":["OperatorType","Empty","name","label","NotEmpty","Equal","NotEqual","GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual","Between","NotBetween","In","NotIn","TextContain","TextNotContain","TextStartsWith","TextEndsWith","TextEqual","TextNotEqual","TextMatch","TextNotMatch","DateEqual","DateNotEqual","DateAfter","DateOnOrAfter","DateBefore","DateOnOrBefore","DateToday","DateYesterday","DateTomorrow","DateLast7Days","DateLast30Days","DateLast90Days","DateLastMonth","DateLastYear","DateNextWeek","DateNextMonth","DateNextYear","DateCurrentCalendarWeek","DateCurrentCalendarMonth","DateCurrentCalendarYear","DatePreviousCalendarWeek","DatePreviousCalendarMonth","DatePreviousCalendarYear","DateNextCalendarWeek","DateNextCalendarMonth","DateNextCalendarYear","DateDaysFromNow","DateWeeksFromNow","DateMonthsFromNow","DateYearsFromNow","DateDaysAgo","DateWeeksAgo","DateMonthsAgo","DateYearsAgo","DateBetween","DateNotBetween","ArrayAnyOf","ArrayAllOf","ArrayIsContainedIn","ArrayNoneOf","ArrayEqual","Search","OperatorsByValue","Object","keys","key","TEXTUAL_OPERATORS","DATE_OPERATORS","DYNAMIC_DATE_OPERATORS","FRIENDLY_DATE_OPERATORS","NUMERIC_OPERATORS","BOOLEAN_OPERATORS","ARRAY_OPERATORS","GEOSPATIAL_OPERATORS","MEDIA_OPERATORS","NO_VALUE_OPERATORS","SYSTEM_COLUMNS","_record_id","_project_id","_assigned_to_id","_status","_latitude","_longitude","_created_at","_updated_at","_version","_created_by_id","_updated_by_id","_server_created_at","_server_updated_at","_geometry","_altitude","_speed","_course","_horizontal_accuracy","_vertical_accuracy","_changeset_id","_title","_created_latitude","_created_longitude","_created_geometry","_created_altitude","_created_horizontal_accuracy","_updated_latitude","_updated_longitude","_updated_geometry","_updated_altitude","_updated_horizontal_accuracy","_created_duration","_updated_duration","_edited_duration","_record_key","_record_sequence","isValueRequired","operator","find","o","isDateOperator","availableOperatorsForColumn","column","operators","id","element","isTextElement","isNumeric","push","apply","isCheckboxElement","isDynamicElement","isCalculatedElement","display","isNumber","isCurrency","isDate","isDateElement","isChoiceElement","multiple","isYesNoElement","isClassificationElement","isRecordLinkElement","isStatusElement","isPhotoElement","isVideoElement","isAudioElement","isSignatureElement","isAttachmentElement","isSQL","isArray","length","calculateDateRange","value","now","moment","Date","clone","startOf","date1","date2","range","start","end","endOf","subtract","add"],"sources":["../src/operator.js"],"sourcesContent":["import moment from 'moment';\n\nexport const OperatorType = {\n  Empty: {\n    name: 'is_empty',\n    label: 'Is blank'\n  },\n\n  NotEmpty: {\n    name: 'is_not_empty',\n    label: 'Is not blank'\n  },\n\n  Equal: {\n    name: 'equal',\n    label: 'Equals'\n  },\n\n  NotEqual: {\n    name: 'not_equal',\n    label: 'Does not equal'\n  },\n\n  GreaterThan: {\n    name: 'greater_than',\n    label: 'Greater than'\n  },\n\n  GreaterThanOrEqual: {\n    name: 'greater_than_or_equal',\n    label: 'Greater than or equal to'\n  },\n\n  LessThan: {\n    name: 'less_than',\n    label: 'Less than'\n  },\n\n  LessThanOrEqual: {\n    name: 'less_than_or_equal',\n    label: 'Less than or equal to'\n  },\n\n  Between: {\n    name: 'between',\n    label: 'Between'\n  },\n\n  NotBetween: {\n    name: 'not_between',\n    label: 'Not between'\n  },\n\n  In: {\n    name: 'in',\n    label: 'One of'\n  },\n\n  NotIn: {\n    name: 'not_in',\n    label: 'Not one of'\n  },\n\n  TextContain: {\n    name: 'text_contain',\n    label: 'Contains'\n  },\n\n  TextNotContain: {\n    name: 'text_not_contain',\n    label: 'Does not contain'\n  },\n\n  TextStartsWith: {\n    name: 'text_starts_with',\n    label: 'Starts with'\n  },\n\n  TextEndsWith: {\n    name: 'text_ends_with',\n    label: 'Ends with'\n  },\n\n  TextEqual: {\n    name: 'text_equal',\n    label: 'Equals'\n  },\n\n  TextNotEqual: {\n    name: 'text_not_equal',\n    label: 'Does not equal'\n  },\n\n  TextMatch: {\n    name: 'text_match',\n    label: 'Matches regex'\n  },\n\n  TextNotMatch: {\n    name: 'text_not_match',\n    label: 'Does not match regex'\n  },\n\n  DateEqual: {\n    name: 'date_equal',\n    label: 'Equals'\n  },\n\n  DateNotEqual: {\n    name: 'date_not_equal',\n    label: 'Does not equal'\n  },\n\n  DateAfter: {\n    name: 'date_after',\n    label: 'After'\n  },\n\n  DateOnOrAfter: {\n    name: 'date_on_or_after',\n    label: 'On or After'\n  },\n\n  DateBefore: {\n    name: 'date_before',\n    label: 'Before'\n  },\n\n  DateOnOrBefore: {\n    name: 'date_on_or_before',\n    label: 'On or Before'\n  },\n\n  DateToday: {\n    name: 'date_today',\n    label: 'Today'\n  },\n\n  DateYesterday: {\n    name: 'date_yesterday',\n    label: 'Yesterday'\n  },\n\n  DateTomorrow: {\n    name: 'date_tomorrow',\n    label: 'Tomorrow'\n  },\n\n  DateLast7Days: {\n    name: 'date_last_7_days',\n    label: 'Last 7 days'\n  },\n\n  DateLast30Days: {\n    name: 'date_last_30_days',\n    label: 'Last 30 days'\n  },\n\n  DateLast90Days: {\n    name: 'date_last_90_days',\n    label: 'Last 90 days'\n  },\n\n  DateLastMonth: {\n    name: 'date_last_month',\n    label: '1 Month Ago'\n  },\n\n  DateLastYear: {\n    name: 'date_last_year',\n    label: '1 Year Ago'\n  },\n\n  DateNextWeek: {\n    name: 'date_next_week',\n    label: '1 Week from Now'\n  },\n\n  DateNextMonth: {\n    name: 'date_next_month',\n    label: '1 Month from Now'\n  },\n\n  DateNextYear: {\n    name: 'date_next_year',\n    label: '1 Year from Now'\n  },\n\n  DateCurrentCalendarWeek: {\n    name: 'date_current_calendar_week',\n    label: 'This Week'\n  },\n\n  DateCurrentCalendarMonth: {\n    name: 'date_current_calendar_month',\n    label: 'This Month'\n  },\n\n  DateCurrentCalendarYear: {\n    name: 'date_current_calendar_year',\n    label: 'This Year'\n  },\n\n  DatePreviousCalendarWeek: {\n    name: 'date_previous_calendar_week',\n    label: 'Last Week'\n  },\n\n  DatePreviousCalendarMonth: {\n    name: 'date_previous_calendar_month',\n    label: 'Last Month'\n  },\n\n  DatePreviousCalendarYear: {\n    name: 'date_previous_calendar_year',\n    label: 'Last Year'\n  },\n\n  DateNextCalendarWeek: {\n    name: 'date_next_calendar_week',\n    label: 'Next Week'\n  },\n\n  DateNextCalendarMonth: {\n    name: 'date_next_calendar_month',\n    label: 'Next Month'\n  },\n\n  DateNextCalendarYear: {\n    name: 'date_next_calendar_year',\n    label: 'Next Year'\n  },\n\n  DateDaysFromNow: {\n    name: 'date_days_from_now',\n    label: 'Days from Now'\n  },\n\n  DateWeeksFromNow: {\n    name: 'date_weeks_from_now',\n    label: 'Weeks from Now'\n  },\n\n  DateMonthsFromNow: {\n    name: 'date_months_from_now',\n    label: 'Months from now'\n  },\n\n  DateYearsFromNow: {\n    name: 'date_weeks_from_now',\n    label: 'Years from now'\n  },\n\n  DateDaysAgo: {\n    name: 'date_days_ago',\n    label: 'Days ago'\n  },\n\n  DateWeeksAgo: {\n    name: 'date_weeks_ago',\n    label: 'Weeks ago'\n  },\n\n  DateMonthsAgo: {\n    name: 'date_months_ago',\n    label: 'Months ago'\n  },\n\n  DateYearsAgo: {\n    name: 'date_years_ago',\n    label: 'Years ago'\n  },\n\n  DateBetween: {\n    name: 'date_between',\n    label: 'Specific Range'\n  },\n\n  DateNotBetween: {\n    name: 'date_not_between',\n    label: 'Not Between'\n  },\n\n  ArrayAnyOf: {\n    name: 'array_any_of',\n    label: 'Any of'\n  },\n\n  ArrayAllOf: {\n    name: 'array_all_of',\n    label: 'All of'\n  },\n\n  ArrayIsContainedIn: {\n    name: 'array_is_contained_in',\n    label: 'Contained In'\n  },\n\n  ArrayNoneOf: {\n    name: 'array_none_of',\n    label: 'None of'\n  },\n\n  ArrayEqual: {\n    name: 'array_equal',\n    label: 'Equals'\n  },\n\n  Search: {\n    name: 'search',\n    label: 'Search'\n  }\n};\n\nexport const OperatorsByValue = {};\n\nfor (const key of Object.keys(OperatorType)) {\n  OperatorsByValue[OperatorType[key].name] = OperatorType[key];\n}\n\nconst TEXTUAL_OPERATORS = [\n  OperatorType.In,\n  OperatorType.NotIn,\n  OperatorType.Empty,\n  OperatorType.NotEmpty,\n  OperatorType.TextContain,\n  OperatorType.TextNotContain,\n  OperatorType.TextStartsWith,\n  OperatorType.TextEndsWith,\n  OperatorType.TextEqual,\n  OperatorType.TextNotEqual,\n  OperatorType.TextMatch,\n  OperatorType.TextNotMatch\n];\n\nconst DATE_OPERATORS = [\n  OperatorType.DateEqual,\n  OperatorType.DateOnOrAfter,\n  OperatorType.DateAfter,\n  OperatorType.DateOnOrBefore,\n  OperatorType.DateBefore,\n  OperatorType.DateBetween,\n  OperatorType.DateNotBetween,\n  OperatorType.DateNotEqual,\n  OperatorType.Empty,\n  OperatorType.NotEmpty,\n  OperatorType.In,\n  OperatorType.NotIn,\n  OperatorType.DateToday,\n  OperatorType.DateYesterday,\n  OperatorType.DateTomorrow,\n  OperatorType.DateLast7Days,\n  OperatorType.DateLast30Days,\n  OperatorType.DateLast90Days,\n  OperatorType.DateLastMonth,\n  OperatorType.DateLastYear,\n  OperatorType.DateNextWeek,\n  OperatorType.DateNextMonth,\n  OperatorType.DateNextYear,\n  OperatorType.DateCurrentCalendarWeek,\n  OperatorType.DateCurrentCalendarMonth,\n  OperatorType.DateCurrentCalendarYear,\n  OperatorType.DatePreviousCalendarWeek,\n  OperatorType.DatePreviousCalendarMonth,\n  OperatorType.DatePreviousCalendarYear,\n  OperatorType.DateNextCalendarWeek,\n  OperatorType.DateNextCalendarMonth,\n  OperatorType.DateNextCalendarYear,\n  OperatorType.DateDaysFromNow,\n  OperatorType.DateWeeksFromNow,\n  OperatorType.DateMonthsFromNow,\n  OperatorType.DateYearsFromNow,\n  OperatorType.DateDaysAgo,\n  OperatorType.DateWeeksAgo,\n  OperatorType.DateMonthsAgo,\n  OperatorType.DateYearsAgo\n];\n\nexport const DYNAMIC_DATE_OPERATORS = [\n  OperatorType.DateToday,\n  OperatorType.DateYesterday,\n  OperatorType.DateTomorrow,\n  OperatorType.DateLast7Days,\n  OperatorType.DateLast30Days,\n  OperatorType.DateLast90Days,\n  OperatorType.DateLastMonth,\n  OperatorType.DateLastYear,\n  OperatorType.DateNextWeek,\n  OperatorType.DateNextMonth,\n  OperatorType.DateNextYear,\n  OperatorType.DateCurrentCalendarWeek,\n  OperatorType.DateCurrentCalendarMonth,\n  OperatorType.DateCurrentCalendarYear,\n  OperatorType.DatePreviousCalendarWeek,\n  OperatorType.DatePreviousCalendarMonth,\n  OperatorType.DatePreviousCalendarYear,\n  OperatorType.DateNextCalendarWeek,\n  OperatorType.DateNextCalendarMonth,\n  OperatorType.DateNextCalendarYear,\n  OperatorType.DateDaysFromNow,\n  OperatorType.DateWeeksFromNow,\n  OperatorType.DateMonthsFromNow,\n  OperatorType.DateYearsFromNow,\n  OperatorType.DateDaysAgo,\n  OperatorType.DateWeeksAgo,\n  OperatorType.DateMonthsAgo,\n  OperatorType.DateYearsAgo\n];\n\nexport const FRIENDLY_DATE_OPERATORS = [\n  OperatorType.DateToday,\n  OperatorType.DateYesterday,\n  OperatorType.DateLast7Days,\n  OperatorType.DateLast30Days,\n  OperatorType.DateCurrentCalendarMonth,\n  OperatorType.DatePreviousCalendarMonth,\n  OperatorType.DateBetween\n];\n\nconst NUMERIC_OPERATORS = [\n  OperatorType.Equal,\n  OperatorType.NotEqual,\n  OperatorType.GreaterThan,\n  OperatorType.GreaterThanOrEqual,\n  OperatorType.LessThan,\n  OperatorType.LessThanOrEqual,\n  // OperatorType.Between,\n  // OperatorType.NotBetween,\n  OperatorType.Empty,\n  OperatorType.NotEmpty,\n  OperatorType.In,\n  OperatorType.NotIn\n];\n\nconst BOOLEAN_OPERATORS = [\n  OperatorType.Equal,\n  OperatorType.NotEqual,\n  OperatorType.Empty,\n  OperatorType.NotEmpty,\n  OperatorType.In,\n  OperatorType.NotIn\n];\n\nconst ARRAY_OPERATORS = [\n  OperatorType.ArrayAnyOf,\n  OperatorType.ArrayAllOf,\n  OperatorType.ArrayIsContainedIn,\n  OperatorType.ArrayEqual,\n  OperatorType.Empty,\n  OperatorType.NotEmpty\n];\n\nconst GEOSPATIAL_OPERATORS = [\n];\n\nconst MEDIA_OPERATORS = [\n  OperatorType.Empty,\n  OperatorType.NotEmpty\n];\n\nconst NO_VALUE_OPERATORS = [\n  OperatorType.Empty,\n  OperatorType.NotEmpty,\n  OperatorType.DateToday,\n  OperatorType.DateYesterday,\n  OperatorType.DateTomorrow,\n  OperatorType.DateLast7Days,\n  OperatorType.DateLast30Days,\n  OperatorType.DateLast90Days,\n  OperatorType.DateLastMonth,\n  OperatorType.DateLastYear,\n  OperatorType.DateNextWeek,\n  OperatorType.DateNextMonth,\n  OperatorType.DateNextYear,\n  OperatorType.DateCurrentCalendarWeek,\n  OperatorType.DateCurrentCalendarMonth,\n  OperatorType.DateCurrentCalendarYear,\n  OperatorType.DatePreviousCalendarWeek,\n  OperatorType.DatePreviousCalendarMonth,\n  OperatorType.DatePreviousCalendarYear,\n  OperatorType.DateNextCalendarWeek,\n  OperatorType.DateNextCalendarMonth,\n  OperatorType.DateNextCalendarYear\n];\n\nconst SYSTEM_COLUMNS = {\n  _record_id: TEXTUAL_OPERATORS,\n  _project_id: TEXTUAL_OPERATORS,\n  _assigned_to_id: TEXTUAL_OPERATORS,\n  _status: TEXTUAL_OPERATORS,\n  _latitude: NUMERIC_OPERATORS,\n  _longitude: NUMERIC_OPERATORS,\n  _created_at: DATE_OPERATORS,\n  _updated_at: DATE_OPERATORS,\n  _version: NUMERIC_OPERATORS,\n  _created_by_id: TEXTUAL_OPERATORS,\n  _updated_by_id: TEXTUAL_OPERATORS,\n  _server_created_at: DATE_OPERATORS,\n  _server_updated_at: DATE_OPERATORS,\n  _geometry: GEOSPATIAL_OPERATORS,\n  _altitude: NUMERIC_OPERATORS,\n  _speed: NUMERIC_OPERATORS,\n  _course: NUMERIC_OPERATORS,\n  _horizontal_accuracy: NUMERIC_OPERATORS,\n  _vertical_accuracy: NUMERIC_OPERATORS,\n  _changeset_id: TEXTUAL_OPERATORS,\n  _title: TEXTUAL_OPERATORS,\n  _created_latitude: NUMERIC_OPERATORS,\n  _created_longitude: NUMERIC_OPERATORS,\n  _created_geometry: GEOSPATIAL_OPERATORS,\n  _created_altitude: NUMERIC_OPERATORS,\n  _created_horizontal_accuracy: NUMERIC_OPERATORS,\n  _updated_latitude: NUMERIC_OPERATORS,\n  _updated_longitude: NUMERIC_OPERATORS,\n  _updated_geometry: GEOSPATIAL_OPERATORS,\n  _updated_altitude: NUMERIC_OPERATORS,\n  _updated_horizontal_accuracy: NUMERIC_OPERATORS,\n  _created_duration: NUMERIC_OPERATORS,\n  _updated_duration: NUMERIC_OPERATORS,\n  _edited_duration: NUMERIC_OPERATORS,\n  _record_key: TEXTUAL_OPERATORS,\n  _record_sequence: NUMERIC_OPERATORS\n};\n\nexport function isValueRequired(operator) {\n  return !NO_VALUE_OPERATORS.find(o => o.name === operator);\n}\n\nexport function isDateOperator(operator) {\n  return DATE_OPERATORS.find(o => o.name === operator);\n}\n\nexport function availableOperatorsForColumn(column) {\n  const operators = [];\n\n  if (column == null) {\n    return operators;\n  }\n\n  if (SYSTEM_COLUMNS[column.id]) {\n    return SYSTEM_COLUMNS[column.id];\n  }\n\n  const element = column && column.element;\n\n  if (element) {\n    if (element.isTextElement) {\n      if (element.isNumeric) {\n        operators.push.apply(operators, NUMERIC_OPERATORS);\n      } else {\n        operators.push.apply(operators, TEXTUAL_OPERATORS);\n      }\n    }\n\n    if (element.isCheckboxElement) {\n      operators.push.apply(operators, BOOLEAN_OPERATORS);\n    }\n\n    if (element.isDynamicElement) {\n      operators.push.apply(operators, ARRAY_OPERATORS);\n    }\n\n    if (element.isCalculatedElement) {\n      if (element.display.isNumber || element.display.isCurrency) {\n        operators.push.apply(operators, NUMERIC_OPERATORS);\n      } else if (element.display.isDate) {\n        operators.push.apply(operators, DATE_OPERATORS);\n      } else {\n        operators.push.apply(operators, TEXTUAL_OPERATORS);\n      }\n    }\n\n    if (element.isDateElement) {\n      operators.push.apply(operators, DATE_OPERATORS);\n    }\n\n    if (element.isChoiceElement) {\n      if (element.multiple) {\n        operators.push.apply(operators, ARRAY_OPERATORS);\n      } else {\n        operators.push.apply(operators, TEXTUAL_OPERATORS);\n      }\n    }\n\n    if (element.isYesNoElement) {\n      operators.push.apply(operators, TEXTUAL_OPERATORS);\n    }\n\n    if (element.isClassificationElement || element.isRecordLinkElement) {\n      operators.push.apply(operators, ARRAY_OPERATORS);\n    }\n\n    if (element.isStatusElement) {\n      operators.push.apply(operators, TEXTUAL_OPERATORS);\n    }\n\n    if (element.isPhotoElement ||\n          element.isVideoElement ||\n          element.isAudioElement ||\n          element.isSignatureElement ||\n          element.isAttachmentElement) {\n      operators.push.apply(operators, MEDIA_OPERATORS);\n    }\n  } else if (column.isSQL) {\n    // custom types\n    if (column.isNumber) {\n      operators.push.apply(operators, NUMERIC_OPERATORS);\n    } else if (column.isArray) {\n      operators.push.apply(operators, ARRAY_OPERATORS);\n    } else if (column.isDate) {\n      operators.push.apply(operators, DATE_OPERATORS);\n    } else {\n      operators.push.apply(operators, TEXTUAL_OPERATORS);\n    }\n  }\n\n  if (operators.length === 0) {\n    operators.push.apply(operators, TEXTUAL_OPERATORS);\n  }\n\n  return operators;\n}\n\nexport function calculateDateRange(operator, value, now) {\n  now = moment(now || new Date()).clone().startOf('day');\n\n  const date1 = now.clone();\n  const date2 = now.clone();\n\n  const range = (start, end) => {\n    return [ start.clone(), (end || start).clone().endOf('day') ];\n  };\n\n  switch (operator) {\n    case OperatorType.DateToday.name:\n      return range(date1);\n\n    case OperatorType.DateYesterday.name:\n      return range(date1.subtract(1, 'days'));\n\n    case OperatorType.DateTomorrow.name:\n      return range(date1.add(1, 'days'));\n\n    case OperatorType.DateLast7Days.name:\n      return range(date1.subtract(7, 'days'), date2);\n\n    case OperatorType.DateLast30Days.name:\n      return range(date1.subtract(30, 'days'), date2);\n\n    case OperatorType.DateLast90Days.name:\n      return range(date1.subtract(90, 'days'), date2);\n\n    case OperatorType.DateLastMonth.name:\n      return range(date1.subtract(1, 'month'), date2);\n\n    case OperatorType.DateLastYear.name:\n      return range(date1.subtract(1, 'year'), date2);\n\n    case OperatorType.DateNextWeek.name:\n      return range(date1, date2.add(1, 'week'));\n\n    case OperatorType.DateNextMonth.name:\n      return range(date1, date2.add(1, 'month'));\n\n    case OperatorType.DateNextYear.name:\n      return range(date1, date2.add(1, 'year'));\n\n    case OperatorType.DateCurrentCalendarWeek.name:\n      return range(date1.startOf('week'), date2.endOf('week'));\n\n    case OperatorType.DatePreviousCalendarWeek.name:\n      return range(date1.subtract(1, 'week').startOf('week'),\n                   date2.subtract(1, 'week').endOf('week'));\n\n    case OperatorType.DateNextCalendarWeek.name:\n      return range(date1.add(1, 'week').startOf('week'),\n                   date2.add(1, 'week').endOf('week'));\n\n    case OperatorType.DateCurrentCalendarMonth.name:\n      return range(date1.startOf('month'), date2.endOf('month'));\n\n    case OperatorType.DatePreviousCalendarMonth.name:\n      return range(date1.subtract(1, 'month').startOf('month'),\n                   date2.subtract(1, 'month').endOf('month'));\n\n    case OperatorType.DateNextCalendarMonth.name:\n      return range(date1.add(1, 'month').startOf('month'),\n                   date2.add(1, 'month').endOf('month'));\n\n    case OperatorType.DateCurrentCalendarYear.name:\n      return range(date1.startOf('year'), date2.endOf('year'));\n\n    case OperatorType.DatePreviousCalendarYear.name:\n      return range(date1.subtract(1, 'year').startOf('year'),\n                   date2.subtract(1, 'year').endOf('year'));\n\n    case OperatorType.DateNextCalendarYear.name:\n      return range(date1.add(1, 'year').startOf('year'),\n                   date2.add(1, 'year').endOf('year'));\n\n    case OperatorType.DateDaysFromNow.name:\n      return value && range(date1, date2.add(+value, 'days'));\n\n    case OperatorType.DateWeeksFromNow.name:\n      return value && range(date1, date2.add(+value, 'weeks'));\n\n    case OperatorType.DateMonthsFromNow.name:\n      return value && range(date1, date2.add(+value, 'months'));\n\n    case OperatorType.DateYearsFromNow.name:\n      return value && range(date1, date2.add(+value, 'years'));\n\n    case OperatorType.DateDaysAgo.name:\n      return value && range(date1.subtract(+value, 'days'), date2);\n\n    case OperatorType.DateWeeksAgo.name:\n      return value && range(date1.subtract(+value, 'weeks'), date2);\n\n    case OperatorType.DateMonthsAgo.name:\n      return value && range(date1.subtract(+value, 'months'), date2);\n\n    case OperatorType.DateYearsAgo.name:\n      return value && range(date1.subtract(+value, 'years'), date2);\n\n    case OperatorType.DateBetween.name:\n      return value && range(value[0] && moment(value[0]), value[1] && moment(value[1]));\n\n    default:\n      return null;\n  }\n}\n"],"mappings":"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"}