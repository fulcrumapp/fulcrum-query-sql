{"version":3,"file":"helpers.js","names":["SelectStmt","targetList","fromClause","whereClause","sortClause","limitOffset","limitCount","groupClause","withClause","op","StringValue","value","String","str","toString","IntegerValue","Integer","ival","FloatValue","Float","Alias","name","aliasname","RangeVar","alias","relname","inhOpt","relpersistence","ResTarget","node","val","FuncCall","args","options","funcname","Array","isArray","WindowDef","orderClause","frameOptions","ColumnRef","source","nameValue","fields","TypeCast","typeName","arg","TypeName","names","mod","typemod","JoinExpr","type","larg","rarg","quals","jointype","AConst","A_Const","AStar","A_Star","BoolExpr","boolop","BooleanTest","booltesttype","AExpr","kind","lexpr","rexpr","A_Expr","RangeSubselect","subquery","AArrayExpr","values","A_ArrayExpr","elements","SortBy","direction","nulls","sortby_dir","sortby_nulls","NullTest","nulltesttype","WithClause","ctes","CommonTableExpr","query","ctename","ctequery","RangeFunction","functions","SubLink","subselect","subLinkType","CoalesceExpr"],"sources":["../../src/ast/helpers.js"],"sourcesContent":["export function SelectStmt({targetList, fromClause, whereClause, sortClause, limitOffset, limitCount, groupClause, withClause}) {\n  return {\n    SelectStmt: {\n      targetList: targetList,\n      fromClause: fromClause,\n      whereClause: whereClause,\n      sortClause: sortClause,\n      limitOffset: limitOffset,\n      limitCount: limitCount,\n      groupClause: groupClause,\n      withClause: withClause,\n      op: 0\n    }\n  };\n}\n\nexport function StringValue(value) {\n  return {\n    String: {\n      str: value != null ? value.toString() : null\n    }\n  };\n}\n\nexport function IntegerValue(value) {\n  return {\n    Integer: {\n      ival: value != null ? +value : null\n    }\n  };\n}\n\nexport function FloatValue(value) {\n  return {\n    Float: {\n      str: value != null ? value.toString() : ''\n    }\n  };\n}\n\nexport function Alias(name) {\n  return {\n    Alias: {\n      aliasname: name\n    }\n  };\n}\n\nexport function RangeVar(name, alias) {\n  return {\n    RangeVar: {\n      relname: name,\n      inhOpt: 2,\n      relpersistence: 'p',\n      alias: alias\n    }\n  };\n}\n\nexport function ResTarget(node, name = null) {\n  return {\n    ResTarget: {\n      name: name,\n      val: node\n    }\n  };\n}\n\nexport function FuncCall(name, args, options) {\n  return {\n    FuncCall: {\n      funcname: Array.isArray(name) ? name : [ StringValue(name) ],\n      args: args,\n      ...options\n    }\n  };\n}\n\nexport function WindowDef(orderClause, frameOptions) {\n  return {\n    WindowDef: {\n      orderClause: orderClause,\n      frameOptions: frameOptions\n    }\n  };\n}\n\nexport function ColumnRef(name, source) {\n  const nameValue = typeof name === 'string' ? StringValue(name) : name;\n\n  const fields = source ? [ StringValue(source), nameValue ]\n                        : [ nameValue ];\n\n  return {\n    ColumnRef: {\n      fields: fields\n    }\n  };\n}\n\nexport function TypeCast(typeName, arg) {\n  return {\n    TypeCast: {\n      arg: arg,\n      typeName: typeName\n    }\n  };\n}\n\nexport function TypeName(names, mod) {\n  return {\n    TypeName: {\n      names: typeof names === 'string' ? [ StringValue(names) ] : names,\n      typemod: mod\n    }\n  };\n}\n\nexport function JoinExpr(type, larg, rarg, quals) {\n  return {\n    JoinExpr: {\n      jointype: type,\n      larg: larg,\n      rarg: rarg,\n      quals: quals\n    }\n  };\n}\n\nexport function AConst(value) {\n  return {\n    A_Const: {\n      val: value\n    }\n  };\n}\n\nexport function AStar() {\n  return {\n    A_Star: {}\n  };\n}\n\nexport function BoolExpr(op, args) {\n  return {\n    BoolExpr: {\n      boolop: op,\n      args: args\n    }\n  };\n}\n\nexport function BooleanTest(arg, booltesttype) {\n  return {\n    BooleanTest: {\n      arg: arg,\n      booltesttype: booltesttype\n    }\n  };\n}\n\nexport function AExpr(kind, name, lexpr, rexpr) {\n  return {\n    A_Expr: {\n      kind: kind,\n      name: [ StringValue(name) ],\n      lexpr: lexpr,\n      rexpr: rexpr\n    }\n  };\n}\n\nexport function RangeSubselect(subquery, alias) {\n  return {\n    RangeSubselect: {\n      subquery: subquery,\n      alias: alias\n    }\n  };\n}\n\nexport function AArrayExpr(values) {\n  return {\n    A_ArrayExpr: {\n      elements: values\n    }\n  };\n}\n\nexport function SortBy(node, direction, nulls) {\n  return {\n    SortBy: {\n      node: node,\n      sortby_dir: direction,\n      sortby_nulls: nulls\n    }\n  };\n}\n\n// 0 : IS NULL\n// 1 : IS NOT NULL\nexport function NullTest(type, arg) {\n  return {\n    NullTest: {\n      arg: arg,\n      nulltesttype: type\n    }\n  };\n}\n\nexport function WithClause(ctes) {\n  return {\n    WithClause: {\n      ctes: ctes\n    }\n  };\n}\n\nexport function CommonTableExpr(name, query) {\n  return {\n    CommonTableExpr: {\n      ctename: name,\n      ctequery: query\n    }\n  };\n}\n\nexport function RangeFunction(functions, alias) {\n  return {\n    RangeFunction: {\n      functions: functions,\n      alias: alias\n    }\n  };\n}\n\nexport function SubLink(type, subselect) {\n  return {\n    SubLink: {\n      subLinkType: type,\n      subselect: subselect\n    }\n  };\n}\n\nexport function CoalesceExpr(args) {\n  return {\n    CoalesceExpr: {\n      args: args\n    }\n  };\n}\n"],"mappings":"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"}