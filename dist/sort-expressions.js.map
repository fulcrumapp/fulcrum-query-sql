{"version":3,"file":"sort-expressions.js","names":["SortExpressions","sorts","schema","_expressions","map","o","Sort","_schema","sortByAsc","column","field","id","direction","sortByDesc","toJSON","expressions","toHumanDescription","hasSort","join","find","e","isValid","isEmpty"],"sources":["../src/sort-expressions.js"],"sourcesContent":["import { Sort } from './sort';\n\nexport default class SortExpressions {\n  constructor(sorts, schema) {\n    sorts = sorts || [];\n\n    this._expressions = sorts.map(o => new Sort(o, schema));\n    this._schema = schema;\n  }\n\n  sortByAsc(column) {\n    this._expressions = [ new Sort({field: column.id, direction: 'asc'}, this._schema) ];\n  }\n\n  sortByDesc(column) {\n    this._expressions = [ new Sort({field: column.id, direction: 'desc'}, this._schema) ];\n  }\n\n  get isEmpty() {\n    return this._expressions.find(e => e.isValid) == null;\n  }\n\n  get hasSort() {\n    return !this.isEmpty;\n  }\n\n  get expressions() {\n    return this._expressions;\n  }\n\n  toJSON() {\n    return this.expressions.map(o => o.toJSON());\n  }\n\n  toHumanDescription() {\n    if (!this.hasSort) {\n      return null;\n    }\n\n    return this.expressions.map(o => o.toHumanDescription()).join(', ');\n  }\n}\n"],"mappings":";;;;AAAA;AAA8B;AAAA;AAAA,IAETA,eAAe;EAClC,yBAAYC,KAAK,EAAEC,MAAM,EAAE;IACzBD,KAAK,GAAGA,KAAK,IAAI,EAAE;IAEnB,IAAI,CAACE,YAAY,GAAGF,KAAK,CAACG,GAAG,CAAC,UAAAC,CAAC;MAAA,OAAI,IAAIC,UAAI,CAACD,CAAC,EAAEH,MAAM,CAAC;IAAA,EAAC;IACvD,IAAI,CAACK,OAAO,GAAGL,MAAM;EACvB;EAAC;EAAA,OAEDM,SAAS,GAAT,mBAAUC,MAAM,EAAE;IAChB,IAAI,CAACN,YAAY,GAAG,CAAE,IAAIG,UAAI,CAAC;MAACI,KAAK,EAAED,MAAM,CAACE,EAAE;MAAEC,SAAS,EAAE;IAAK,CAAC,EAAE,IAAI,CAACL,OAAO,CAAC,CAAE;EACtF,CAAC;EAAA,OAEDM,UAAU,GAAV,oBAAWJ,MAAM,EAAE;IACjB,IAAI,CAACN,YAAY,GAAG,CAAE,IAAIG,UAAI,CAAC;MAACI,KAAK,EAAED,MAAM,CAACE,EAAE;MAAEC,SAAS,EAAE;IAAM,CAAC,EAAE,IAAI,CAACL,OAAO,CAAC,CAAE;EACvF,CAAC;EAAA,OAcDO,MAAM,GAAN,kBAAS;IACP,OAAO,IAAI,CAACC,WAAW,CAACX,GAAG,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACS,MAAM,EAAE;IAAA,EAAC;EAC9C,CAAC;EAAA,OAEDE,kBAAkB,GAAlB,8BAAqB;IACnB,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE;MACjB,OAAO,IAAI;IACb;IAEA,OAAO,IAAI,CAACF,WAAW,CAACX,GAAG,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACW,kBAAkB,EAAE;IAAA,EAAC,CAACE,IAAI,CAAC,IAAI,CAAC;EACrE,CAAC;EAAA;IAAA;IAAA,KAtBD,eAAc;MACZ,OAAO,IAAI,CAACf,YAAY,CAACgB,IAAI,CAAC,UAAAC,CAAC;QAAA,OAAIA,CAAC,CAACC,OAAO;MAAA,EAAC,IAAI,IAAI;IACvD;EAAC;IAAA;IAAA,KAED,eAAc;MACZ,OAAO,CAAC,IAAI,CAACC,OAAO;IACtB;EAAC;IAAA;IAAA,KAED,eAAkB;MAChB,OAAO,IAAI,CAACnB,YAAY;IAC1B;EAAC;EAAA;AAAA;AAAA"}